{
  "hash": "4c382bfdae4e26ff79ce3480380eac4f",
  "result": {
    "markdown": "---\ntitle: \"Intro to: AHP\"\nauthor: \"Vinícius Félix\"\ndate: \"2024-04-16\"\ncategories: [Intro to]\nimage: \"banner.png\"\n---\n\n::: {.cell}\n\n:::\n\n\nIn this post, we explore the consistency indexes (CI) for a analytics hierarchy process (AHP).\n\n\n\n\n\n# Context\n\nThe AHP is a structured approach to organizing and comprehending decision-making in a multifactor scenario. It was created by Thomas L. Saaty in the 1970s and is used in a variety of domains to help in decision-making, resource allocation and risk analysis.\n\nIt consist on the following steps\n\n1.  Breaking down a decision problem into a hierarchical structure of:\n\n    -   **Criteria**, i.e., the variables to consider and evaluate\n\n    -   **Alternative**, i.e., the options being evaluated by the criteria\n\n2.  Making a pairwise comparison between the criterias. where each variable is compared to another, usually with a scale from 1 to 9, where 1 means equality between the criterias and 9 a higher relevance from criteria to another\n\n3.  After the comparison we can measure the consistency of the evaluation, and review if a evidence of inconsistency appears\n\n4.  Then with the priority weights for each criteria and we can rank the alternatives\n\n# Pairwise comparison\n\nLet's say we have $n$ criterias then making a pairwise comparison we have $\\frac{n(n-1)}{2}$ comparisons between the criterias.\n\n$$\n\\begin{bmatrix}\nc_{11} & c_{12} & ... & c_{1n} \\\\\nc_{21} & c_{22} & ... & c_{2n} \\\\ \n\\vdots & \\vdots & \\ddots & \\vdots \\\\\nc_{n1} & c_{n2} & ... & c_{nn} \\\\ \n\\end{bmatrix}\n$$ {#eq-m0}\n\nwhere $c_{11}$ would be the comparison between the criteria $c_1$ and $c_1$. $c_{12}$ would be the comparison between the criteria $c_1$ and $c_2$. and so on.\n\nFor this matrix we have some established results, such as:\n\n$$\nc_{ii} = 1: i = j.\n$$ {#eq-cii}\n\nThe comparison of the same criterias (matrix diagonal) imply in no relevance between them. We also have that:\n\n$$\nc_{ij} = \\frac{1}{c_{ji}}.\n$$ {#eq-cij-cji}\n\nSince we compare a criteria in comparison to another, such as $c_1$ in relation to $c_2$ we do not need to evalutate $c_2$ compared to $c_1$, so we consider the inverse of the original evaluation.\n\n# Consistency indexes\n\n## Approximate eigenvector\n\nAfter establishing the comparison matrix we compute the sum for each column:\n\n$$\nc_{.j} = \\sum\\limits_{i=1}^{n} c_{ij}.\n$$ {#eq-colsum}\n\nAnd then we normalize the matrix by dividing each value by the respective column sum (@eq-colsum):\n\n$$\n\\begin{bmatrix}\nc_{11}/c_{.1} & c_{12}/c_{.2} & ... & c_{1n}/c_{.n} \\\\\nc_{21}/c_{.1} & c_{22}/c_{.2} & ... & c_{2n}/c_{.n} \\\\ \n\\vdots & \\vdots & \\ddots & \\vdots \\\\\nc_{n1}/c_{.1} & c_{n2}/c_{.2} & ... & c_{nn}/c_{.n} \\\\ \n\\end{bmatrix}\n$$ {#eq-mnormalized}\n\nConsidering the normalized value as\n\n$$w_{ij} = c_{ij}/c_{.j},$$ {#eq-wij}\n\nwe can compute the mean for each row:\n\n$$\np_{i} = \\frac{1}{n}\\sum\\limits_{j=1}^{n} w_{ij},\n$$ {#eq-pi}\n\nwhere $p_i$ is the priority value of the respective criteria. Then we can multiply the values of each original criteria by their respective priority:\n\n$$\n\\lambda_{\\mathrm{max}} = \\frac{1}{n}\\sum\\limits_{i=1}^{n} \\left[\\frac{1}{p_i}\\sum\\limits_{j=1}^{n} c_{ij}\\right].\n$$ {#eq-lmax}\n\nAt last the consistency index ($CI$) is computed as\n\n$$\nCI = \\frac{\\lambda_{\\mathrm{max}} - n}{n-1}.\n$$ {#eq-ci}\n\nIt is also possible to consider a consistency rate ($CR$)\n\n$$\nCR = \\frac{CI}{RI}.\n$$ {#eq-cr}\n\nwhere the $RI$ is the random index, a fixed number based on the calculation from random matrices of different sizes (Saaty, 1980):\n\n| $n$ | $RI$ |\n|-----|------|\n| 1   | 0    |\n| 2   | 0    |\n| 3   | 0.58 |\n| 4   | 0.90 |\n| 5   | 1.12 |\n| 6   | 1.24 |\n| 7   | 1.32 |\n| 8   | 1.41 |\n| 9   | 1.45 |\n| 10  | 1.49 |\n\n# Final considerations\n\nThe $CR$ can be used to measure in numeric terms how consistency is the evalutation between the criterias, for example let's say we evaluate that:\n\n-   $c_1$ is 8x more relevant than $c_2$\n\n-   $c_1$ is 2x more relevant than $c_3$\n\n-   $c_2$ is equaly relevant in comparison to $c_3$\n\nThe $CR$ is computed as 22,7%, giving an evidence of inconsistency, since $c_2$ and $c_3$ are considered equal, but $c_1$ is much more relevant to $c_2$ than $c_3$.\n\nBut how much can be considered a consistent index? In the literature a $CR < 10\\%$ is considered consistent (Saaty, 1980).\n\nWant to give a try? Checkout this free web application of an [AHP priority calculator](https://bpmsg.com/ahp/ahp-calc.php).\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}