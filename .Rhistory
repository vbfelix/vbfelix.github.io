geom_col(
mapping = aes(fill = time),
width = 0.55,
size = 1,
position=position_dodge(0.75)
)+
geom_line(
size = 1,
position=position_dodge(0.75)
)
pdata %>%
ggplot(aes(x = type, y = values)) +
geom_col(
mapping = aes(fill = time, group = time),
width = 0.55,
size = 1,
position=position_dodge(0.75)
)+
geom_line(
size = 1,
position=position_dodge(0.75)
)
pdata %>%
ggplot(aes(x = type, y = values)) +
geom_col(
mapping = aes(fill = time, group = time),
width = 0.55,
size = 1,
position = position_dodge(0.75)
)+
geom_line(
mapping = aes(fill = time, group = type),
size = 1,
position = position_dodge(0.75)
)
pdata %>%
ggplot(aes(x = type, y = values)) +
geom_col(
mapping = aes(fill = time, group = time),
width = 0.55,
size = 1,
position = position_dodge(0.75)
)+
geom_line(
mapping = aes(group = type),
size = 1,
position = position_dodge(0.75)
)
pdata
pdata %>%
ggplot(aes(x = type, y = values)) +
geom_col(
mapping = aes(fill = time, group = time),
width = 0.55,
size = 1,
position = position_dodge(0.75)
)+
geom_line(
mapping = aes(group = type),
size = 1,
position = position_dodge(0.75)
)
pdata %>%
ggplot(aes(x = type, y = values)) +
geom_col(
mapping = aes(fill = time, group = time),
width = 0.55,
size = 1,
position = position_dodge(0.75)
)+
geom_line(
mapping = aes(group = type),
size = 1,
position = position_dodge()
)
pdata %>%
ggplot(aes(x = type, y = values)) +
geom_col(
mapping = aes(fill = time, group = time),
width = 0.55,
size = 1,
position = position_dodge(0.75)
)+
geom_line(
mapping = aes(group = type),
size = 1,
position = position_dodge(1)
)
pdata %>%
ggplot(aes(x = type, y = values)) +
geom_col(
mapping = aes(fill = time, group = time),
width = 0.55,
size = 1,
position = position_dodge(0.75)
)+
geom_line(
mapping = aes(group = type, col = type),
size = 1,
position = position_dodge(1)
)
pdata %>%
ggplot(aes(x = type, y = values)) +
geom_col(
mapping = aes(fill = time, group = time),
width = 0.55,
size = 1,
position = position_dodge(0.75)
)+
geom_line(
mapping = aes(group = type, alpha = type),
size = 1,
position = position_dodge(1)
)
pdata %>%
ggplot(aes(x = type, y = values)) +
geom_col(
mapping = aes(fill = time, group = time),
width = 0.55,
size = 1,
position = position_dodge(0.75)
)+
geom_line(
mapping = aes(group = type, col = type),
size = 1,
position = position_dodge(1)
)
pdata %>%
ggplot(aes(x = type, y = values)) +
geom_col(
mapping = aes(fill = time, group = time),
width = 0.55,
size = 1,
position = position_dodge(0.75)
)+
geom_line(
mapping = aes(group = type, col = type),
size = 1,
position = position_dodge2(1)
)
pdata %>%
ggplot(aes(x = type, y = values)) +
geom_col(
mapping = aes(fill = time, group = time),
width = 0.55,
size = 1,
position = position_dodge(0.75)
)+
geom_line(
mapping = aes(group = type),
size = 1,
position = position_dodge2(1)
)
source("~/.active-rstudio-document", echo=TRUE)
?position_dodge2
pdata %>%
ggplot(aes(x = type, y = values)) +
geom_col(
mapping = aes(fill = time, group = time),
width = 0.55,
size = 1,
position = position_dodge(0.75)
)+
geom_line(
mapping = aes(group = type),
size = 1,
position = position_dodge2(.5)
)
pdata %>%
ggplot(aes(x = type, y = values)) +
geom_col(
mapping = aes(fill = time, group = time),
width = 0.55,
size = 1,
position = position_dodge(0.75)
)+
geom_line(
mapping = aes(group = type),
size = 1,
position = position_dodge2(.75)
)
source("~/.active-rstudio-document", echo=TRUE)
source("~/.active-rstudio-document", echo=TRUE)
my_data
expand.grid(id = unique(my_data$id))
expand_grid(id = unique(my_data$id),year = min(my_data$year):max(my_data$year))
library(dplyr)
library(tidyr)
expand_grid(id = unique(my_data$id),year = min(my_data$year):max(my_data$year))
expand_grid(id = unique(my_data$id),year = min(my_data$year):max(my_data$year)) %>%
full_join(my_data)
expand_grid(id = unique(my_data$id),year = min(my_data$year):max(my_data$year)) %>%
full_join(my_data) %>%
replace_na(replace = list(var = 0))
df1 <- data.frame(col1=c('', 'total costs', 'liability'),
col2=c("", 1000, 500),
col3=c("", $, ""),
col4=c("", $, 500,))
df1
df1 <- data.frame(col1=c('', 'total costs', 'liability'),
col2=c("", 1000, 500),
col3=c("", $, ""),
col4=c("", $, 500))
df <- data.frame(subgroup= c(1,1,1,1,1,1,1,1,2,2,2,2,3,3,3,3),
group_num=(2,2,5,5,10,21,18,17,16,22,20,25,21,30,29,20),
state= c(NJ,NJ,NJ,VT,VT,VT,VT,DC,DC,DC,DC,IL,IL,IL,IL),
date= c(2010-01-01,2010-01-01,2010-01-01,2010-01-01,2010-01-02,2010-01-02,2010-01-02,2010-01-02,2010-02-03,2010-02-03,2010-02-03,2010-02-03,2010-03-05,2010-03-05,2010-03-05,2010-03-05),
value = c(12,7,6,9,15,7,6,9,18,5,6,3,20,5,5,6)
)
df <- data.frame(subgroup= c(1,1,1,1,1,1,1,1,2,2,2,2,3,3,3,3),
group_num=(2,2,5,5,10,21,18,17,16,22,20,25,21,30,29,20),
state= c(NJ,NJ,NJ,VT,VT,VT,VT,DC,DC,DC,DC,IL,IL,IL,IL),
date= c(2010-01-01,2010-01-01,2010-01-01,2010-01-01,2010-01-02,2010-01-02,2010-01-02,2010-01-02,2010-02-03,2010-02-03,2010-02-03,2010-02-03,2010-03-05,2010-03-05,2010-03-05,2010-03-05),
value = c(12,7,6,9,15,7,6,9,18,5,6,3,20,5,5,6)
)
mtcars
library(dplyr)
library(purrr)
mtcars %>%
group_map(cyl)
mtcars %>%
group_map(-cyl)
mtcars
?group_map
mtcars %>%
nest(-cyl)
library(readxl)
library(writexl)
?write_xlsx
?write.csv
install.packages("xlsx")
library(xlsx)
?across
install.packages("penguinpalmer")
install.packages("palmerpenguins")
library(dplyr)
library(palmerpenguins)
iris
penguins
library(dplyr)
library(palmerpenguins)
glimpse(penguins)
penguins %>%
summarise(
mean(bill_length_mm),
mean(bill_depth_mm),
mean(flipper_length_mm),
mean(body_mass_g)
)
penguins %>%
summarise(
mean(bill_length_mm,na.rm = TRUE),
mean(bill_depth_mm,na.rm = TRUE),
mean(flipper_length_mm,na.rm = TRUE),
mean(body_mass_g,na.rm = TRUE)
)
penguins %>%
summarise(
mean(bill_length_mm,na.rm = TRUE),
mean(bill_depth_mm,na.rm = TRUE),
mean(flipper_length_mm,na.rm = TRUE),
mean(body_mass_g,na.rm = TRUE)
) %>%
glimpse()
penguins %>%
summarise_if(
.predicate = is.numeric,
.funs = ~mean(.,na.rm = TRUE)
) %>%
glimpse()
penguins %>%
summarise(
across(.cols = where(is.numeric),.fns = ~mean(.,na.rm = TRUE))
) %>%
glimpse()
penguins %>%
summarise(
species = relper::calc_mode(species),
across(.cols = where(is.numeric),.fns = ~mean(.,na.rm = TRUE))
) %>%
glimpse()
penguins %>%
summarise(
across(.fns = as.characther)
) %>%
glimpse()
penguins %>%
summarise(across(.fns = as.character)) %>%
glimpse()
penguins %>%
summarise(across(.cols = where(is.character),.fns = toupper)) %>%
glimpse()
summarise(across(.cols = where(is.character),.fns = tolower) %>%
penguins %>%
summarise(across(.cols = where(is.character),.fns = tolower)) %>%
glimpse()
penguins %>%
penguins %>%
summarise(across(.cols = where(is.character),.fns = tolower)) %>%
glimpse()
penguins %>%
mutate(across(.cols = where(is.character),.fns = tolower)) %>%
glimpse()
penguins %>%
mutate(across(.cols = where(is.character),.fns = toupper)) %>%
glimpse()
penguins %>%
mutate(across(.cols = where(is.factor),.fns = toupper)) %>%
glimpse()
penguins %>%
mutate(across(.cols = ends_with("_g"),.fns = ~(./1000))) %>%
glimpse()
penguins %>%
mutate(across(.cols = ends_with("_g"),.fns = ~(./1000),.names = ".col_{kg}")) %>%
glimpse()
penguins %>%
mutate(across(.cols = ends_with("_g"),.fns = ~(./1000),.names = "{col}")) %>%
glimpse()
penguins %>%
mutate(across(.cols = ends_with("_g"),.fns = ~(./1000),.names = "{col}_kg")) %>%
glimpse()
penguins %>%
summarise(across(.cols = ends_with("_mm"),.fns = median)) %>%
glimpse()
penguins %>%
summarise(across(.cols = ends_with("_mm"),.fns = ~mean(.,na.rm = TRUE))) %>%
glimpse()
penguins %>%
mutate(across(.cols = bill_length_mm:body_mass_g,.fns = round)) %>%
glimpse()
penguins %>%
summarise(
across(
.cols = where(is.numeric),
.fns = list(mean = ~mean(.,na.rm = TRUE),
median = ~median(.,na.rm = TRUE)))
) %>%
glimpse()
penguins %>%
summarise(
across(
.cols = where(is.numeric),
.fns = list(~mean(.,na.rm = TRUE),
~median(.,na.rm = TRUE)))
) %>%
glimpse()
penguins %>%
summarise(
across(
.cols = where(is.numeric),
.fns = list(
mean = ~mean(.,na.rm = TRUE),
median = ~median(.,na.rm = TRUE)
)
)
) %>%
glimpse()
penguins %>%
summarise(
across(
.cols = where(is.numeric),
.fns = list(
mean = ~mean(.,na.rm = TRUE),
median = ~median(.,na.rm = TRUE)
),
.names = "{.fns}----{.cols}"
)
) %>%
glimpse()
penguins %>%
summarise(
across(
.cols = where(is.numeric),
.fns = list(
mean = ~mean(.,na.rm = TRUE),
median = ~median(.,na.rm = TRUE)
),
.names = "{.fn}----{.cols}"
)
) %>%
glimpse()
penguins %>%
summarise(
across(
.cols = where(is.numeric),
.fns = list(
mean = ~mean(.,na.rm = TRUE),
median = ~median(.,na.rm = TRUE)
),
.names = "{.fn}----{.col}"
)
) %>%
glimpse()
penguins %>%
group_by(species) %>%
summarise(body_mass_g = max(body_mass_g,na.rm = TRUE))
penguins %>%
group_by(species) %>%
summarise(body_mass_g = max(body_mass_g,na.rm = TRUE)) %>%
```
penguins %>%
group_by(species) %>%
summarise(body_mass_g = max(body_mass_g,na.rm = TRUE)) %>%
pivot_wider(names_from = species,values_from = body_mass_g)
heavy_penguins
# heavy_penguins
```
# heavy_penguins <-
penguins %>%
group_by(species) %>%
summarise(
max = max(body_mass_g,na.rm = TRUE),
min = min(body_mass_g,na.rm = TRUE)
) #%>%
# heavy_penguins <-
penguins %>%
group_by(species) %>%
summarise(
heaviest = max(body_mass_g,na.rm = TRUE),
lightest = min(body_mass_g,na.rm = TRUE)
) %>%
pivot_longer(cols = species)
# heavy_penguins <-
penguins %>%
group_by(species) %>%
summarise(
heaviest = max(body_mass_g,na.rm = TRUE),
lightest = min(body_mass_g,na.rm = TRUE)
) %>%
pivot_longer(cols = -species)
# heavy_penguins <-
penguins %>%
group_by(species) %>%
summarise(
heaviest = max(body_mass_g,na.rm = TRUE),
lightest = min(body_mass_g,na.rm = TRUE)
) %>%
pivot_longer(cols = -species) %>%
pivot_wider(names_from = species,values_from = values)
# heavy_penguins <-
penguins %>%
group_by(species) %>%
summarise(
heaviest = max(body_mass_g,na.rm = TRUE),
lightest = min(body_mass_g,na.rm = TRUE)
) %>%
pivot_longer(cols = -species) %>%
pivot_wider(names_from = species,values_from = value)
xpenguins
xpenguins <-
penguins %>%
group_by(species) %>%
summarise(
heaviest = max(body_mass_g,na.rm = TRUE),
lightest = min(body_mass_g,na.rm = TRUE)
) %>%
pivot_longer(cols = -species) %>%
pivot_wider(names_from = species,values_from = value)
xpenguins
xpenguins %>%
mutate(across(.cols = -name,.fns = sum))
xpenguins %>%
rowwise() %>%
mutate(across(.cols = -name,.fns = sum))
xpenguins %>%
mutate(total_weight = Adelie + Chinstrap + Gentoo)
xpenguins %>%
rowwise() %>%
mutate(total_weight = sum(c_across(-name)))
xpenguins_na <- xpenguins
xpenguins_na <- xpenguins
xpenguins_na[1,3] <- NA
xpenguins_na %>%
rowwise() %>%
mutate(
total_weight_plus = Adelie + Chinstrap + Gentoo
total_weight_cacross = sum(c_across(-name))
xpenguins_na <- xpenguins
xpenguins_na[1,3] <- NA
xpenguins_na %>%
rowwise() %>%
mutate(
total_weight_plus = Adelie + Chinstrap + Gentoo,
total_weight_cacross = sum(c_across(-name))
)
apropos("is.")
penguins %>%
mutate(across(.cols = where(is.factor) | where(is.character),.fns = toupper)) %>%
glimpse()
?ends_with
penguins %>%
summarise(across(.cols = bill_length_mm:body_mass_g,.fns = ~mean(.,na.rm = TRUE))) %>%
glimpse()
penguins %>%
summarise(across(.cols = 3:5,.fns = ~mean(.,na.rm = TRUE))) %>%
glimpse()
penguins %>%
summarise(across(.cols = 3:6,.fns = ~mean(.,na.rm = TRUE))) %>%
glimpse()
xpenguins_na %>%
rowwise() %>%
mutate(
total_weight_plus = Adelie + Chinstrap + Gentoo,
total_weight_cacross = sum(c_across(-name))
)
penguins %>%
summarise_if(
.predicate = is.numeric,
.funs = ~mean(.,na.rm = TRUE)
) %>%
glimpse()
?across
