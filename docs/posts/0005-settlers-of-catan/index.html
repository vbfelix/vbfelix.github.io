<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Vinícius Félix">
<meta name="dcterms.date" content="2023-01-14">

<title>vbfelix - An analysis of: Settlers of Catan</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../..//images/favicon/favicon-32x32.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<script src="../../site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="../../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">vbfelix</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html">
 <span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../header-about.html">
 <span class="menu-text">About me</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../header-publications.html">
 <span class="menu-text">Publications</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../header-certifications.html">
 <span class="menu-text">Certifications</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../header-participations.html">
 <span class="menu-text">Participations</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/vbfelix"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/vin%C3%ADcius-f%C3%A9lix-962010140/"><i class="bi bi-linkedin" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://stackoverflow.com/users/9696037/vin%c3%adcius-f%c3%a9lix"><i class="bi bi-stack-overflow" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://vbfelix.github.io/relper"><i class="bi bi-box-seam" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">An analysis of: Settlers of Catan</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">An analysis of</div>
                <div class="quarto-category">Probability</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Vinícius Félix </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">January 14, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#context" id="toc-context" class="nav-link active" data-scroll-target="#context">Context</a></li>
  <li><a href="#analysis" id="toc-analysis" class="nav-link" data-scroll-target="#analysis">Analysis</a>
  <ul class="collapse">
  <li><a href="#is-the-dice-fair" id="toc-is-the-dice-fair" class="nav-link" data-scroll-target="#is-the-dice-fair">Is the dice fair?</a></li>
  <li><a href="#spending-money-to-make-money." id="toc-spending-money-to-make-money." class="nav-link" data-scroll-target="#spending-money-to-make-money.">“Spending money to make money.”</a></li>
  <li><a href="#the-last-will-be-first-and-the-first-last." id="toc-the-last-will-be-first-and-the-first-last." class="nav-link" data-scroll-target="#the-last-will-be-first-and-the-first-last.">“The last will be first, and the first last.”</a></li>
  <li><a href="#if-your-ship-doesnt-come-in-swim-out-and-meet-it." id="toc-if-your-ship-doesnt-come-in-swim-out-and-meet-it." class="nav-link" data-scroll-target="#if-your-ship-doesnt-come-in-swim-out-and-meet-it.">“If your ship doesn’t come in, swim out and meet it.”</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p>In this post you will learn how statistics and probability can help you to win a board game.</p>
<div class="cell">

</div>
<section id="context" class="level1">
<h1>Context</h1>
<p>Settlers of Catan, or just <a href="https://www.catan.com/">Catan</a> is a board game designed by <a href="https://en.wikipedia.org/wiki/Klaus_Teuber" title="Klaus Teuber">Klaus Teuber</a>. In the game we take the role of settlers.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://www.catan.com/sites/default/files/2021-06/dye_catan_150407_0564.jpg" class="img-fluid figure-img" alt="Catan set. Source: catan.com" width="279"></p>
<p></p><figcaption class="figure-caption">Catan set. Source: catan.com.</figcaption><p></p>
</figure>
</div>
<p>The game has 19 locations, where:</p>
<table class="table">
<thead>
<tr class="header">
<th>Location</th>
<th>Resource</th>
<th>Number of locations</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Pasture</td>
<td>Wool</td>
<td>4</td>
</tr>
<tr class="even">
<td>Hill</td>
<td>Brick</td>
<td>3</td>
</tr>
<tr class="odd">
<td>Mountain</td>
<td>Ore</td>
<td>3</td>
</tr>
<tr class="even">
<td>Field</td>
<td>Grain</td>
<td>4</td>
</tr>
<tr class="odd">
<td>Forest</td>
<td>Lumber</td>
<td>4</td>
</tr>
<tr class="even">
<td>Desert</td>
<td>None</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>With the exception of the desert, each location will have a number. This number is one of the possible outcomes of the sum of two dice, so they can range from 2 to 12. The number 7 will result in the action of the robber, where you can choose to block one location and steal one random resource from a player who is present there.</p>
<p>The main goal of the game is to achieve 10 points (<strong>P</strong>), to achieve points we have structures:</p>
<ul>
<li><p><strong>Road</strong>: 1 brick + 1 lumber;</p></li>
<li><p><strong>(1P) Settlement</strong>: 1 Brick + 1 lumber + 1 wool + 1 grain;</p></li>
<li><p><strong>(2P) City</strong>: 3 ores + 2 grains.</p></li>
</ul>
<p>We also have the <strong>development card</strong>: 1 ore + 1 wool + 1 grain, which you draw randomly from a deck of cards with different effects, one of them been cards that award you <strong>1P.</strong></p>
<p>And lastly, achievements:</p>
<ul>
<li><p><strong>(2P) Longest road:</strong> the player that first achieve a sequencial road of size 5;</p></li>
<li><p><strong>(2P) Largest army:</strong> the player that first uses 3 knight cards (<strong>development card</strong>).</p></li>
</ul>
<p>For more in-depth information check the rules in the <a href="https://www.catan.com/">official site</a>.</p>
</section>
<section id="analysis" class="level1">
<h1>Analysis</h1>
<p>For the analysis we will use the dataset <a href="https://www.kaggle.com/datasets/lumins/settlers-of-catan-games">My Settlers of Catan Games</a> from the user Lumin of Kaggle.</p>
<blockquote class="blockquote">
<p><strong>Disclaimer:</strong> this dataset has only 50 observations, with one of the players always being the same, and with a winrate of 50%, so the goal here is simply to look at the data and check some hypotheses, rather than to do an inference or study about the game.</p>
</blockquote>
<section id="is-the-dice-fair" class="level2">
<h2 class="anchored" data-anchor-id="is-the-dice-fair">Is the dice fair?</h2>
<p>Every turn, each player rolls two dice and adds their totals together to determine which location will grant resources to players who have cities or settlements there. This will be the subject of the first analysis.</p>
<p>We will compute the probability of each result for the sum of the two dices, taking into account that there are six possible outcomes for each face of each die.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>In the picture above, we can see a graph where each axis represents the outcome of a single die, and we can also see all possible outcomes of the sum of those dices.</p>
<p>Some outcomes are more common than others, for example, the number 7 is the most common outcome because it appears six times.</p>
<p>Another intriguing finding is that the results exhibit symmetry; to further explore this, let’s use another visual representation.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The extreme results, 2, and 12, with only one combination for each, are symmetrical and center on the number 7, as was previously mentioned.</p>
<p>We will now compare the observed data to the predicted result.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>When comparing the observed values from the real dataset, we can see that the dice results appear to be fairly random because they closely resemble our anticipated result. The number 4 had the biggest discrepancy, with observed values 1.02 percentage points below the predicted probability.</p>
</section>
<section id="spending-money-to-make-money." class="level2">
<h2 class="anchored" data-anchor-id="spending-money-to-make-money.">“Spending money to make money.”</h2>
<p>In the dataset we have the following concepts, as described by the author:</p>
<ul>
<li><p><strong>Production gain:</strong> Cards gained from structures;</p></li>
<li><p><strong>Trade gain:</strong> Cards gained from peer or bank trade;</p></li>
<li><p><strong>Non-production gain:</strong> Cards gained from stealing with the robber, plus cards gained with non-knight development cards, e.g., a road building card is +4 resources;</p></li>
<li><p><strong>Total gain:</strong> Production + Trade + Non-production;</p></li>
</ul>
<p>Also we have the ways to loss cards</p>
<ul>
<li><p><strong>Trade loss:</strong> Cards lost from peer or bank trades;</p></li>
<li><p><strong>Robber loss:</strong> Cards lost directly from robbers, knights, and other players’ monopoly cards;</p></li>
<li><p><strong>Tribute loss:</strong> Cards lost when player had to discard on a 7 roll;</p></li>
<li><p><strong>Total loss:</strong> Trade + Robber + Tribute.</p></li>
</ul>
<p>First of all, let’s see how the total gain and loss relate.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>We see in the figure above that:</p>
<ol type="1">
<li><p>The loss and gain are positive correlated, that means that players that gained more also lost more cards;</p></li>
<li><p>There is no player that lost more than gained, as no point is below the identity line;</p></li>
<li><p>The winners gained a lot more cards than player that lost.</p></li>
</ol>
<p>To take a better look at the third point, let’s plot the gain/loss cards ratio.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Looking at the gain/loss ratio density plot, we see that:</p>
<ul>
<li><p>The density is positive skewed, for winners or losers;</p></li>
<li><p>The losers have a more concentrated density, using the peak value of the density as a metric, winners gain 2.31 cards to every card lost, whereas losers gain 2.15 cards.</p></li>
</ul>
</section>
<section id="the-last-will-be-first-and-the-first-last." class="level2">
<h2 class="anchored" data-anchor-id="the-last-will-be-first-and-the-first-last.">“The last will be first, and the first last.”</h2>
<p>The playing order is important in this game because it gives you the ability to choose the locations of your settlement, but being the last one is not the worst, since you become the first to choose your second settlement in the map.</p>
<p>To make the analysis of the importance of the locations choosen, we will use the dice sum results and define as weights, e.g., if the number is 12 the weight will be 1, since the the probability of this results is 1/36, as we saw in the dice analysis.</p>
<p>Then we will sum the weights of the initial two settlements of each player (<span class="math inline">\(wt\)</span>), and we will do the different of the total weight of the winner minus the maximum weight of that game, given by:</p>
<p><span class="math display">\[
wt_{\mathrm{winner}} - \max(wt).
\]</span></p>
<div class="cell">
<div class="cell-output-display">

<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:center;"> Difference </th>
   <th style="text-align:center;"> Frequency </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:center;"> -5 </td>
   <td style="text-align:center;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> -4 </td>
   <td style="text-align:center;"> 5 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> -3 </td>
   <td style="text-align:center;"> 8 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> -2 </td>
   <td style="text-align:center;"> 8 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> -1 </td>
   <td style="text-align:center;"> 4 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 0 </td>
   <td style="text-align:center;"> 24 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>A difference of zero means that the winner was the player with the best location, at least probability-wise. So in almost half of the games the winner had the best location.</p>
</section>
<section id="if-your-ship-doesnt-come-in-swim-out-and-meet-it." class="level2">
<h2 class="anchored" data-anchor-id="if-your-ship-doesnt-come-in-swim-out-and-meet-it.">“If your ship doesn’t come in, swim out and meet it.”</h2>
<div class="cell">

</div>
<p>The port is a unique location. Normally, you can exchange 4 identical resources for another resource at the bank, but with a port you can lower this trade rate, but you lose one resource location in the process.</p>
<div class="cell">
<div class="cell-output-display">

<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:center;"> Location </th>
   <th style="text-align:center;"> Locations </th>
   <th style="text-align:center;"> Percentage </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:center;"> Port </td>
   <td style="text-align:center;"> 35 </td>
   <td style="text-align:center;"> 2.92 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> Resource </td>
   <td style="text-align:center;"> 1,165 </td>
   <td style="text-align:center;"> 97.08 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> Total </td>
   <td style="text-align:center;"> 1,200 </td>
   <td style="text-align:center;"> 100.00 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>So of all the 1,200 initial settlements just 35 of them were ports, so it is not a popular strategy.</p>
<div class="cell">
<div class="cell-output-display">

<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:center;"> Player </th>
   <th style="text-align:center;"> Games </th>
   <th style="text-align:center;"> Percentage </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:center;"> Loser </td>
   <td style="text-align:center;"> 27 </td>
   <td style="text-align:center;"> 81.82 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> Winner </td>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 18.18 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> Total </td>
   <td style="text-align:center;"> 33 </td>
   <td style="text-align:center;"> 100.00 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>Those 35 port initial locations were in 33 games, where in only 6 of them the player was the winner, let’s explore why.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Looking at the trading behavior we see that in average player with a initial port gained more, so let’s take a look at the trade ratio (gain/loss).</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Players that had a initial port had a higher ratio, that can sound counterintuitive, since we expect they had a better trade-off with the ports advantage, a possibility is the lower quantity of resources making the players make actually worst trade for other resources, since they give up one location when choosing this strategy, but how impactful is that?</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Lastly, when can see how impactful was the production of cards from structures based on the initial port. The result was a lot lower for players with a initial port, with almost 16 cards of difference from players that choosed 3 resources locations.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Blog made with <a href="https://quarto.org/">Quarto</a>, by <a href="https://github.com/vbfelix/vbfelix.github.io">Vinícius Félix</a>. License: <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC BY-SA 2.0</a>.</div>   
  </div>
</footer>



</body></html>