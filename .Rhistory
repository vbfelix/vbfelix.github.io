0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0),
WetH = c(NA, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 12,
18, 24, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)), row.names = c(NA,
-48L), class = "data.frame"))
data <-
structure(list(Day = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2), Temp = c(12, 12, 12,
11, 10, 9, 9, 9, 9, 9, 8, 7, 6, 6, 6, 6, 6, 8, 11, 12, 13, 14,
15, 16, 16, 16, 16, 14, 13, 11, 10, 9, 8, 7, 7, 6, 4, 3, 3, 2,
4, 8, 11, 13, 14, 16, 17, 18), RH = c(69L, 68L, 71L, 73L, 76L,
81L, 78L, 77L, 76L, 78L, 80L, 83L, 88L, 90L, 91L, 94L, 93L, 91L,
78L, 67L, 62L, 56L, 49L, 39L, 36L, 34L, 34L, 36L, 38L, 42L, 48L,
50L, 53L, 58L, 59L, 63L, 66L, 69L, 71L, 73L, 71L, 60L, 50L, 43L,
41L, 36L, 34L, 31L), HumH = c(NA, 0, 0, 0, 0, 9, 0, 0, 0, 0,
8, 15, 21, 27, 33, 39, 45, 53, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0),
WetH = c(NA, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 12,
18, 24, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)), row.names = c(NA,
-48L), class = "data.frame"))
data <-
structure(list(Day = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2), Temp = c(12, 12, 12,
11, 10, 9, 9, 9, 9, 9, 8, 7, 6, 6, 6, 6, 6, 8, 11, 12, 13, 14,
15, 16, 16, 16, 16, 14, 13, 11, 10, 9, 8, 7, 7, 6, 4, 3, 3, 2,
4, 8, 11, 13, 14, 16, 17, 18), RH = c(69L, 68L, 71L, 73L, 76L,
81L, 78L, 77L, 76L, 78L, 80L, 83L, 88L, 90L, 91L, 94L, 93L, 91L,
78L, 67L, 62L, 56L, 49L, 39L, 36L, 34L, 34L, 36L, 38L, 42L, 48L,
50L, 53L, 58L, 59L, 63L, 66L, 69L, 71L, 73L, 71L, 60L, 50L, 43L,
41L, 36L, 34L, 31L), HumH = c(NA, 0, 0, 0, 0, 9, 0, 0, 0, 0,
8, 15, 21, 27, 33, 39, 45, 53, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0),
WetH = c(NA, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 12,
18, 24, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)), row.names = c(NA,
-48L), class = "data.frame"))
data <-
structure(list(
Day = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2),
Temp = c(12, 12, 12,
11, 10, 9, 9, 9, 9, 9, 8, 7, 6, 6, 6, 6, 6, 8, 11, 12, 13, 14,
15, 16, 16, 16, 16, 14, 13, 11, 10, 9, 8, 7, 7, 6, 4, 3, 3, 2,
4, 8, 11, 13, 14, 16, 17, 18),
RH = c(69L, 68L, 71L, 73L, 76L,
81L, 78L, 77L, 76L, 78L, 80L, 83L, 88L, 90L, 91L, 94L, 93L, 91L,
78L, 67L, 62L, 56L, 49L, 39L, 36L, 34L, 34L, 36L, 38L, 42L, 48L,
50L, 53L, 58L, 59L, 63L, 66L, 69L, 71L, 73L, 71L, 60L, 50L, 43L,
41L, 36L, 34L, 31L),
HumH = c(NA, 0, 0, 0, 0, 9, 0, 0, 0, 0,
8, 15, 21, 27, 33, 39, 45, 53, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0),
WetH = c(NA, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 12,
18, 24, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)), row.names = c(NA,
-48L), class = "data.frame"))
data <-
structure(list(
Day = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2),
Temp = c(12, 12, 12,
11, 10, 9, 9, 9, 9, 9, 8, 7, 6, 6, 6, 6, 6, 8, 11, 12, 13, 14,
15, 16, 16, 16, 16, 14, 13, 11, 10, 9, 8, 7, 7, 6, 4, 3, 3, 2,
4, 8, 11, 13, 14, 16, 17, 18),
RH = c(69L, 68L, 71L, 73L, 76L,
81L, 78L, 77L, 76L, 78L, 80L, 83L, 88L, 90L, 91L, 94L, 93L, 91L,
78L, 67L, 62L, 56L, 49L, 39L, 36L, 34L, 34L, 36L, 38L, 42L, 48L,
50L, 53L, 58L, 59L, 63L, 66L, 69L, 71L, 73L, 71L, 60L, 50L, 43L,
41L, 36L, 34L, 31L),
HumH = c(NA, 0, 0, 0, 0, 9, 0, 0, 0, 0,
8, 15, 21, 27, 33, 39, 45, 53, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0),
WetH = c(NA, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 12,
18, 24, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)),
row.names = c(NA, -48L), class = "data.frame"))
data <-
structure(list(
Day = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2),
Temp = c(12, 12, 12,
11, 10, 9, 9, 9, 9, 9, 8, 7, 6, 6, 6, 6, 6, 8, 11, 12, 13, 14,
15, 16, 16, 16, 16, 14, 13, 11, 10, 9, 8, 7, 7, 6, 4, 3, 3, 2,
4, 8, 11, 13, 14, 16, 17, 18),
RH = c(69L, 68L, 71L, 73L, 76L,
81L, 78L, 77L, 76L, 78L, 80L, 83L, 88L, 90L, 91L, 94L, 93L, 91L,
78L, 67L, 62L, 56L, 49L, 39L, 36L, 34L, 34L, 36L, 38L, 42L, 48L,
50L, 53L, 58L, 59L, 63L, 66L, 69L, 71L, 73L, 71L, 60L, 50L, 43L,
41L, 36L, 34L, 31L),
HumH = c(NA, 0, 0, 0, 0, 9, 0, 0, 0, 0,
8, 15, 21, 27, 33, 39, 45, 53, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0),
WetH = c(NA, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 12,
18, 24, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)),
row.names = c(NA, -48L), class = "data.frame"))
data <-
structure(list(
Day = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2),
Temp = c(12, 12, 12,
11, 10, 9, 9, 9, 9, 9, 8, 7, 6, 6, 6, 6, 6, 8, 11, 12, 13, 14,
15, 16, 16, 16, 16, 14, 13, 11, 10, 9, 8, 7, 7, 6, 4, 3, 3, 2,
4, 8, 11, 13, 14, 16, 17, 18),
RH = c(69L, 68L, 71L, 73L, 76L,
81L, 78L, 77L, 76L, 78L, 80L, 83L, 88L, 90L, 91L, 94L, 93L, 91L,
78L, 67L, 62L, 56L, 49L, 39L, 36L, 34L, 34L, 36L, 38L, 42L, 48L,
50L, 53L, 58L, 59L, 63L, 66L, 69L, 71L, 73L, 71L, 60L, 50L, 43L,
41L, 36L, 34L, 31L),
HumH = c(NA, 0, 0, 0, 0, 9, 0, 0, 0, 0,
8, 15, 21, 27, 33, 39, 45, 53, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0),
WetH = c(NA, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 12, 18, 24, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)),
row.names = c(NA, -48L), class = "data.frame"))
WetH = c(NA, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 12, 18, 24, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
HumH = c(NA, 0, 0, 0, 0, 9, 0, 0, 0, 0,
8, 15, 21, 27, 33, 39, 45, 53, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0
HumH = c(NA, 0, 0, 0, 0, 9, 0, 0, 0, 0,
8, 15, 21, 27, 33, 39, 45, 53, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0)
data <-
structure(list(
Day = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2),
Temp = c(12, 12, 12,
11, 10, 9, 9, 9, 9, 9, 8, 7, 6, 6, 6, 6, 6, 8, 11, 12, 13, 14,
15, 16, 16, 16, 16, 14, 13, 11, 10, 9, 8, 7, 7, 6, 4, 3, 3, 2,
4, 8, 11, 13, 14, 16, 17, 18),
RH = c(69L, 68L, 71L, 73L, 76L,
81L, 78L, 77L, 76L, 78L, 80L, 83L, 88L, 90L, 91L, 94L, 93L, 91L,
78L, 67L, 62L, 56L, 49L, 39L, 36L, 34L, 34L, 36L, 38L, 42L, 48L,
50L, 53L, 58L, 59L, 63L, 66L, 69L, 71L, 73L, 71L, 60L, 50L, 43L,
41L, 36L, 34L, 31L),
HumH = c(NA, 0, 0, 0, 0, 9, 0, 0, 0, 0,
8, 15, 21, 27, 33, 39, 45, 53, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0),
WetH = c(NA, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 12, 18, 24, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)),
row.names = c(NA, -48L), class = "data.frame"))
-6L), class = c("tbl_df", "tbl", "data.frame")
structure(list(Day = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2), Temp = c(12, 12, 12,
11, 10, 9, 9, 9, 9, 9, 8, 7, 6, 6, 6, 6, 6, 8, 11, 12, 13, 14,
15, 16, 16, 16, 16, 14, 13, 11, 10, 9, 8, 7, 7, 6, 4, 3, 3, 2,
4, 8, 11, 13, 14, 16, 17, 18), RH = c(69L, 68L, 71L, 73L, 76L,
81L, 78L, 77L, 76L, 78L, 80L, 83L, 88L, 90L, 91L, 94L, 93L, 91L,
78L, 67L, 62L, 56L, 49L, 39L, 36L, 34L, 34L, 36L, 38L, 42L, 48L,
50L, 53L, 58L, 59L, 63L, 66L, 69L, 71L, 73L, 71L, 60L, 50L, 43L,
41L, 36L, 34L, 31L), HumH = c(NA, 0, 0, 0, 0, 9, 0, 0, 0, 0,
8, 15, 21, 27, 33, 39, 45, 53, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0),
WetH = c(NA, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 12,
18, 24, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)), row.names = c(NA,
-48L), class = "data.frame"))
id <- c(1,1,2,2,3,3,3,4,4,4,4,4,5,5,5)
sample <- c(2010,2010,2011,2012,2013,2012,2013,2013,2014,2015,2014,2015,2015,2015,2015)
df <- data.frame(id,sample)
n <- nrow(df)
for(i in 1:(n-1)){
df[i,3] <- ifelse(df[i,1]==df[i+1,1],1,df[i,3]+1)
}
df
df[i,3] <- ifelse(df[i,1]==df[i+1,1],1,2)
source("~/.active-rstudio-document", echo=TRUE)
df <-
structure(list(Day = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2), Temp = c(12, 12, 12,
11, 10, 9, 9, 9, 9, 9, 8, 7, 6, 6, 6, 6, 6, 8, 11, 12, 13, 14,
15, 16, 16, 16, 16, 14, 13, 11, 10, 9, 8, 7, 7, 6, 4, 3, 3, 2,
4, 8, 11, 13, 14, 16, 17, 18), RH = c(69L, 68L, 71L, 73L, 76L,
81L, 78L, 77L, 76L, 78L, 80L, 83L, 88L, 90L, 91L, 94L, 93L, 91L,
78L, 67L, 62L, 56L, 49L, 39L, 36L, 34L, 34L, 36L, 38L, 42L, 48L,
50L, 53L, 58L, 59L, 63L, 66L, 69L, 71L, 73L, 71L, 60L, 50L, 43L,
41L, 36L, 34L, 31L), HumH = c(NA, 0, 0, 0, 0, 9, 0, 0, 0, 0,
8, 15, 21, 27, 33, 39, 45, 53, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0),
WetH = c(NA, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 12,
18, 24, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)), row.names = c(NA,
-48L), class = "data.frame")
out <-
-6L), class = c("tbl_df", "tbl", "data.frame")
structure(list(Day = c(1, 2, 3, 4, 5, 6), Temp = c(6.2, 0, 0,
0, 0, 0), RH = c(75.3333333333333, 49.8333333333333, 45.625,
51.6666666666667, 52.75, 56.2083333333333)), row.names = c(NA,
-6L), class = c("tbl_df", "tbl", "data.frame")
structure(list(Day = c(1, 2, 3, 4, 5, 6), Temp = c(6.2, 0, 0,
0, 0, 0), RH = c(75.3333333333333, 49.8333333333333, 45.625,
51.6666666666667, 52.75, 56.2083333333333)), row.names = c(NA,
-6L), class = c("tbl_df", "tbl", "data.frame")
structure(list(Day = c(1, 2, 3, 4, 5, 6), Temp = c(6.2, 0, 0,
0, 0, 0), RH = c(75.3333333333333, 49.8333333333333, 45.625,
51.6666666666667, 52.75, 56.2083333333333)), row.names = c(NA,
-6L), class = c("tbl_df", "tbl", "data.frame"))
out <-
structure(list(Day = c(1, 2, 3, 4, 5, 6), Temp = c(6.2, 0, 0,
0, 0, 0), RH = c(75.3333333333333, 49.8333333333333, 45.625,
51.6666666666667, 52.75, 56.2083333333333)), row.names = c(NA,
-6L), class = c("tbl_df", "tbl", "data.frame"))
df
out
weather_hour  <-
structure(list(Day = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2), Temp = c(12, 12, 12,
11, 10, 9, 9, 9, 9, 9, 8, 7, 6, 6, 6, 6, 6, 8, 11, 12, 13, 14,
15, 16, 16, 16, 16, 14, 13, 11, 10, 9, 8, 7, 7, 6, 4, 3, 3, 2,
4, 8, 11, 13, 14, 16, 17, 18), RH = c(69L, 68L, 71L, 73L, 76L,
81L, 78L, 77L, 76L, 78L, 80L, 83L, 88L, 90L, 91L, 94L, 93L, 91L,
78L, 67L, 62L, 56L, 49L, 39L, 36L, 34L, 34L, 36L, 38L, 42L, 48L,
50L, 53L, 58L, 59L, 63L, 66L, 69L, 71L, 73L, 71L, 60L, 50L, 43L,
41L, 36L, 34L, 31L), HumH = c(NA, 0, 0, 0, 0, 9, 0, 0, 0, 0,
8, 15, 21, 27, 33, 39, 45, 53, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0),
WetH = c(NA, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 12,
18, 24, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)), row.names = c(NA,
-48L), class = "data.frame")
weather_hour
weather_hour
out
weather_hour
out
weather_hour %>%
group_by(Day) %>%
summarise(
mean(RH)
)
out
weather_hour
weather_hour %>%
group_by(Day) %>%
summarise(
RH = mean(RH),
Temp = mean(Temp)
)
out
weather_hour %>%
filter(HumH < 50 | WetH < 30) %>%
group_by(Day) %>%
summarise(
RH = mean(RH),
Temp = mean(Temp)
)
out
weather_hour %>%
# filter(HumH < 50 | WetH < 30) %>%
group_by(Day) %>%
summarise(
RH = mean(RH),
Temp = mean(Temp)
)
weather_hour %>%
filter(HumH < 50 | WetH < 30) %>%
group_by(Day) %>%
summarise(
RH = mean(RH),
Temp = mean(Temp)
)
out
weather_hour %>%
filter(HumH < 50 | WetH < 30) %>%
group_by(Day) %>%
summarise(
RH = mean(RH),
Temp = mean(Temp)
) %>%
left_join(out,by = "Day",suffix = c("_real","_prev"))
weather_hour %>%
# filter(HumH < 50 | WetH < 30) %>%
group_by(Day) %>%
summarise(
RH = mean(RH),
Temp = mean(Temp)
) %>%
left_join(out,by = "Day",suffix = c("_real","_prev"))
weather_hour %>%
filter(HumH < 50 | WetH < 30) %>%
group_by(Day) %>%
summarise(
RH = mean(RH),
Temp = mean(Temp)
) %>%
left_join(out,by = "Day",suffix = c("_real","_prev"))
weather_hour %>%
# filter(HumH < 50 | WetH < 30) %>%
group_by(Day) %>%
summarise(
RH = mean(RH),
Temp = mean(Temp)
) %>%
left_join(out,by = "Day",suffix = c("_real","_prev"))
weather_hour
weather_hour %>%
filter(HumH < 50 | WetH < 30) %>%
group_by(Day) %>%
summarise(
RH = mean(RH),
Temp = mean(Temp)
) %>%
left_join(out,by = "Day",suffix = c("_real","_prev"))
weather_hour %>%
filter(HumH < 50 | WetH < 30) %>%
group_by(Day) %>%
summarise(
RH = mean(RH),
Temp = mean(Temp)
) %>%
left_join(weather_day ,by = "Day",suffix = c("_real","_prev"))
weather_day  <-
structure(list(Day = c(1, 2, 3, 4, 5, 6),
Temp = c(6.2, 0, 0, 0, 0, 0),
RH = c(75.3333333333333, 49.8333333333333, 45.625, 51.6666666666667, 52.75, 56.2083333333333)),
row.names = c(NA,  -6L),
class = c("tbl_df", "tbl", "data.frame"))
weather_hour %>%
filter(HumH < 50 | WetH < 30) %>%
group_by(Day) %>%
summarise(
RH = mean(RH),
Temp = mean(Temp)
) %>%
left_join(weather_day ,by = "Day",suffix = c("_real","_prev"))
weather_hour %>%
#Filtering values
filter(HumH < 50 | WetH < 30) %>%
#Grouping by Day
group_by(Day) %>%
#
summarise(
RH = mean(RH,na.rm = TRUE),
Temp = mean(Temp,na.rm = TRUE)
) %>%
#Comparing to your expected results
left_join(weather_day ,by = "Day",suffix = c("_real","_prev"))
weather_hour  <-
structure(list(Day = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2), Temp = c(12, 12, 12,
11, 10, 9, 9, 9, 9, 9, 8, 7, 6, 6, 6, 6, 6, 8, 11, 12, 13, 14,
15, 16, 16, 16, 16, 14, 13, 11, 10, 9, 8, 7, 7, 6, 4, 3, 3, 2,
4, 8, 11, 13, 14, 16, 17, 18), RH = c(69L, 68L, 71L, 73L, 76L,
81L, 78L, 77L, 76L, 78L, 80L, 83L, 88L, 90L, 91L, 94L, 93L, 91L,
78L, 67L, 62L, 56L, 49L, 39L, 36L, 34L, 34L, 36L, 38L, 42L, 48L,
50L, 53L, 58L, 59L, 63L, 66L, 69L, 71L, 73L, 71L, 60L, 50L, 43L,
41L, 36L, 34L, 31L), HumH = c(NA, 0, 0, 0, 0, 9, 0, 0, 0, 0,
8, 15, 21, 27, 33, 39, 45, 53, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0),
WetH = c(NA, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 12,
18, 24, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)), row.names = c(NA,
-48L), class = "data.frame")
weather_day  <-
structure(list(Day = c(1, 2, 3, 4, 5, 6),
Temp = c(6.2, 0, 0, 0, 0, 0),
RH = c(75.3333333333333, 49.8333333333333, 45.625, 51.6666666666667, 52.75, 56.2083333333333)),
row.names = c(NA,  -6L),
class = c("tbl_df", "tbl", "data.frame"))
weather_hour
ID <- c('A','A','A','A','A','A','A','A','A','A','A','A','A','A','A','A' )
EXP_P <- c(62,62,62,62,62,62,62,64,64,64,67,67,67,67,67,67)
BRR <- c(61,57,66,53,54,50,55,65,71,53,51,50,58,54,55,57)
val1 <- c(1,1,1,1,1,1,1,2,2,2,3,3,3,3,3,3)
df <- data.frame(ID, EXP_P, BRR, val1)
source("~/.active-rstudio-document", echo=TRUE)
df %>%
mutate(BPP = case_when(
val1 != lead(val2) ~ EXP_P,
))
df %>%
mutate(BPP = case_when(
val1 != lead(val1) ~ EXP_P,
TRUE ~ NA_real_
))
df %>%
mutate(
BPP = case_when(
val1 != lead(val1) ~ EXP_P,
TRUE ~ NA_real_
),
aux = 1)
?sample_frac()
slice_sample(mtcars,prop = .1)
mtcars
nrow(mtcars)
slice_sample(mtcars,prop = .5)
slice_sample(mtcars,prop = .5) %>% nrow()
slice_sample(mtcars,prop = .5)
slice_sample(mtcars,prop = .5)
slice_sample(mtcars,prop = .5)
slice_sample(mtcars,prop = .5)
#make this example reproducible
set.seed(1001)
n <- 500
#Sample GOE random matrix
A <- matrix(rnorm(n*n, mean=0, sd=1), n, n)
G <- (A + t(A))/sqrt(2*n)
ev <- eigen(G)
l <- ev$values
v <- ev$vectors
#size of multivariate distribution
mean <- rep(0, n)
var <- diag(n)
#simulate bivariate normal distribution
initial <- MASS::mvrnorm(n=1000, mu=mean, Sigma=var) #ten random vectors
#normalized the first possible initial value, the initial data uniformly distributed on the sphere
xmats <- lapply(1:1000, function(i) initial[i, ]/norm(initial[i, ], type="2"))
#define my function
h1t <- function(t,x_0) {
h10 <- c(x_0 %*% v[, n])
denom <- vapply(t, function(.t) {
sum((x_0 %*% v)^2 * exp(-4*(l - l[n]) * .t))
}, numeric(1L))
abs(h10) / sqrt(denom)
}
#set epsilon=0.9
find_t <- function(x, epsilon = 0.9, range = c(-500, 500)) {
uniroot(function(t) h1t(t, x) - epsilon, range,
tol = .Machine$double.eps)$root
}
res <- lapply(xmats, find_t)
plot(density(unlist(res)), xlim = c(0, 300),col = "red",
main = "Fix epsilon=0.9. Density of tau_epsilon for different initial value for n=500")
par(mfrow = c(2,2))
epsilons <- c(0.1, 0.2,0.3,0.9)
sapply(epsilons,find_t)
#set epsilon=0.9
find_t <- function(epsilon = 0.9,x, range = c(-500, 500)) {
}
sapply(epsilons,find_t)
find_t(.1)
find_t(epsilon = .1)
df <-
data.frame(
row = 1:10,
num = cumsum(rep(3,10)),
group = c("B","A","A","B","A","A","B","A","B","B")
)
df
df %>%
filter( first(num>8) )
first
?first
df %>%
filter(num > 8) %>%
slice_min()
df %>%
filter(num > 8) %>%
slice_min(order_by = row)
df %>%
filter(num > 8) %>%
slice_min(order_by = row) %>%
pull(row)
df %>%
filter(num >= 8) %>%
slice_min(order_by = row) %>%
pull(row)
df %>%
filter(num >= 18) %>%
slice_min(order_by = row) %>%
pull(row)
df$num >= 8
cumsum[df$num >= 8]
whichi.min(df$num >= 8])
which.min(df$num >= 8])
df$num >= 8]
which.min(df$num >= 8)
which.min(cumsum(df$num >= 8))
cumsum(df$num >= 8)
which.min((df$num >= 8))
(df$num >= 8)
1:10(df$num >= 8)
df$row[(df$num >= 8)
df$row[(df$num >= 8)]
which.min(df$row[(df$num >= 8)])
min(df$row[(df$num >= 8)])
df %>%
filter(num >= 18) %>%
slice_min(order_by = row)
df[min(df$row[(df$num >= 8)]),]
df %>%
filter(num >= 8) %>%
slice_min(order_by = row) %>%
pull(row)
df %>%
filter(num >= 8) %>%
slice_min(order_by = row)
df[min(df$row[(df$num >= 8)]),]
df1 <- data.frame(Person = sample(1:5, size=10, replace = T), Object = sample(letters[1:5], size=10, replace = T))
df2 <- data.frame(Participant = c(1, 3, 5))
library(dplyr)
df1 %>%
inner_join(df2,by = c("Person"))
df1 %>%
inner_join(df2,by = c("Person" = "Participant"))
df2
df1
remotes::install_github("dgrtwo/adventdrob")
adventdrob::advent_input(1,2022)
usethis::edit_r_environ()
Sys.getenv('ADVENT_SESSION')
Sys.getenv('ADVENT_SESSION')
